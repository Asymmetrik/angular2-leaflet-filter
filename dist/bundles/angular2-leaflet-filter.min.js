/*! @asymmetrik/angular2-leaflet-filter-1.1.1 - Copyright Asymmetrik, Ltd. 2007-2017 - All Rights Reserved.*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("leaflet"),require("@asymmetrik/leaflet-filter"),require("@asymmetrik/angular2-leaflet")):"function"==typeof define&&define.amd?define(["exports","@angular/core","leaflet","@asymmetrik/leaflet-filter","@asymmetrik/angular2-leaflet"],t):t(e.angular2LeafletFilter=e.angular2LeafletFilter||{},e.ng.core,e.L,null,e.angular2Leaflet)}(this,function(e,t,r,i,l){"use strict";var o=function(e,t,r,i){var l,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,r,i);else for(var f=e.length-1;f>=0;f--)(l=e[f])&&(n=(o<3?l(n):o>3?l(t,r,n):l(t,r))||n);return o>3&&n&&Object.defineProperty(t,r,n),n},n=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function e(e){this.filterOptions=null,this.filterStateChange=new t.EventEmitter,this.controlReady=new t.EventEmitter,this.leafletDirective=new l.LeafletDirectiveWrapper(e)}return e.prototype.ngOnInit=function(){var e=this;this.leafletDirective.init(),this.filterOptions=this.initializeFilterOptions(this.filterOptions),this.filterControl=r.control.filter(this.filterOptions),this.featureGroup=this.filterOptions.featureGroup,this.filterControl.addTo(this.leafletDirective.getMap()),this.leafletDirective.getMap().on("filter:filter",function(t){setTimeout(function(){e.filterStateChange.emit(t.geo)})}),this.filterControl.setFilter(this.filterState),this.controlReady.emit(this.filterControl)},e.prototype.ngOnChanges=function(e){e.filterState&&null!=this.filterControl&&this.filterControl.setFilter(e.filterState.currentValue)},e.prototype.initializeFilterOptions=function(e){return null==e&&(e={featureGroup:null}),null==e.featureGroup&&(e.featureGroup=r.featureGroup(),this.leafletDirective.getMap().addLayer(e.featureGroup)),e},e}();o([t.Input("leafletFilterOptions"),n("design:type",Object)],f.prototype,"filterOptions",void 0),o([t.Input("leafletFilterState"),n("design:type",Object)],f.prototype,"filterState",void 0),o([t.Output("leafletFilterStateChange"),n("design:type",Object)],f.prototype,"filterStateChange",void 0),o([t.Output("leafletFilterControlReady"),n("design:type",Object)],f.prototype,"controlReady",void 0),f=o([t.Directive({selector:"[leafletFilter]"}),n("design:paramtypes",[l.LeafletDirective])],f);var a=function(e,t,r,i){var l,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,r,i);else for(var f=e.length-1;f>=0;f--)(l=e[f])&&(n=(o<3?l(n):o>3?l(t,r,n):l(t,r))||n);return o>3&&n&&Object.defineProperty(t,r,n),n};e.LeafletFilterModule=function(){function e(){}return e}(),e.LeafletFilterModule=a([t.NgModule({imports:[],exports:[f],declarations:[f],providers:[]})],e.LeafletFilterModule),Object.defineProperty(e,"__esModule",{value:!0})});