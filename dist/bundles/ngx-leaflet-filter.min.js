/*! @asymmetrik/ngx-leaflet-filter - 2.3.0 - Copyright Asymmetrik, Ltd. 2007-2017 - All Rights Reserved. + */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("leaflet"),require("@asymmetrik/leaflet-filter"),require("@asymmetrik/ngx-leaflet")):"function"==typeof define&&define.amd?define(["exports","@angular/core","leaflet","@asymmetrik/leaflet-filter","@asymmetrik/ngx-leaflet"],t):t(e.ngxLeafletFilter=e.ngxLeafletFilter||{},e.ng.core,e.L,null,e.ngxLeaflet)}(this,function(e,t,r,i,l){"use strict";var n=function(){function e(e){this.filterOptions=null,this.filterStateChange=new t.EventEmitter,this.controlReady=new t.EventEmitter,this.leafletDirective=new l.LeafletDirectiveWrapper(e)}return e.prototype.ngOnInit=function(){var e=this;this.leafletDirective.init(),this.filterOptions=this.initializeFilterOptions(this.filterOptions),this.filterControl=r.control.filter(this.filterOptions),this.featureGroup=this.filterOptions.featureGroup,this.filterControl.addTo(this.leafletDirective.getMap()),this.leafletDirective.getMap().on("filter:filter",function(t){setTimeout(function(){e.filterStateChange.emit(t.geo)})}),this.filterControl.setFilter(this.filterState),this.controlReady.emit(this.filterControl)},e.prototype.ngOnChanges=function(e){e.filterState&&null!=this.filterControl&&this.filterControl.setFilter(e.filterState.currentValue)},e.prototype.initializeFilterOptions=function(e){return null==e&&(e={featureGroup:null}),null==e.featureGroup&&(e.featureGroup=r.featureGroup(),this.leafletDirective.getMap().addLayer(e.featureGroup)),e},e}();n.decorators=[{type:t.Directive,args:[{selector:"[leafletFilter]"}]}],n.ctorParameters=function(){return[{type:l.LeafletDirective}]},n.propDecorators={filterOptions:[{type:t.Input,args:["leafletFilterOptions"]}],filterState:[{type:t.Input,args:["leafletFilterState"]}],filterStateChange:[{type:t.Output,args:["leafletFilterStateChange"]}],controlReady:[{type:t.Output,args:["leafletFilterControlReady"]}]};var o=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e}();o.decorators=[{type:t.NgModule,args:[{exports:[n],declarations:[n]}]}],o.ctorParameters=function(){return[]},e.LeafletFilterModule=o,Object.defineProperty(e,"__esModule",{value:!0})});